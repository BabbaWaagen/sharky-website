# Material System Overview

[WRITER NOTE: Insert a brief paragraph introducing this topic. What is the Material system? Why is this information relevant to the customers?]

**Materials** are assets that control how the surface of models appear in a 3D environment. All materials have a **material type** which classifies Materials that share similar properties (e.g. glass, wood, Standard PBR). Each material can inherit properties directly from its material type, or from other Materials. 

## Materials
A material is a data item that can be applied to a single mesh to configure how it should be rendered. A material's `properties`, the most significant part of the data, configures the material's appearance. For example, the material's texture maps, ___, and ____. A material must reference a material type, which defines how the material works and what properties are available. Alternatively, a material may reference another material and inherit its property values. The material inheritance tree can go as deep as needed. 

Material files (`*.material`) can be edited using the Material Editor or authored directly. The file is in a simple JSON format and can be authored or machine generated by scripting outside the Material Editor.

*For more information, see [Material File Specification](material-file-spec.md).*  

### Material File (.material) Sample
In the following sample, the material inherits from the `StandardPBR` material type and contains the properties `baseColor`, `metallic`, `roughness`, and `normal`. 
```json
{
    "materialType": "StandardPBR.materialtype",
    "properties": {
        "baseColor": {
            "textureMap": "Objects\\textures\\boar\\Copper\\Boar_Copper_BaseColor.png"
        },
        "metallic": {
            "textureMap": "Objects\\textures\\boar\\Copper\\Boar_Copper_Metallic.png"
        },
        "roughness": {
            "textureMap": "Objects\\textures\\boar\\Copper\\Boar_Copper_Roughness.png"
        },
        "normal": {
            "factor": 0.8,
            "textureMap": "Objects\\textures\\boar\\Copper\\Boar_Copper_Normal.png"
        }
    }
}
```

## Material Types
A material type is a data item that includes everything needed to describe how to render a mesh:  
- a set of material property definitions
- links to shaders
- scripts that describe how to consume the material properties
- metadata for tools to use 

Material type files (`*.materialtype`) are in JSON format and can be authored directly. Alternatively, they can be created in C++ using the RPI API. 

*Note: Functors require C++ programming.*

For more information, see [Material Type File Specification](material-type-file-spec.md).  

## Material and Material Type Assets
Material and material type files produce **Material** and **Material Type Assets**, respectively. Just like other assets, Material and Material Type Assets are immutable system memory configuration data that contain material and material type data. 

A material type file (`*.materialtype`) produces a Material Type Asset (`*.azmaterialtype`). It contains property layout information, a list of shaders to use, and possibly functors for special processing.

A material file (`*.material`) produces a **Material Asset** (*.azmaterial) in the cache. Every Material Asset references a single Material Type Asset. It contains all inherited material property values "flattened" into a single list. This means that a material's inheritance tree is merged into a single file. Material Assets can be referenced by Model Assets and/or assigned to a model using a Material Component. Material Assets can create any number of Material instances at runtime for the renderer to use. Each material instance can have changed property values without impacting the other instances. Unlike a Material Asset, a material instance only exists in memory and not on disk. 

## Atom PBR Materials
The StandardPBR material type is an artist-friendly, full-featured PBR material. It contains features such as metallic to roughness workflow, emissive maps, baked ambient occlusion, and parallax mapping. 

For more information, see [Physically-based Rendering (PBR)](./pbr.md) and [Working with StandardPBR materials](./working-with-pbr-materials.md). 

## Limitations
There are limitations to the Atom Material System that are important to consider when working with the system. 
* When creating a custom, simple material type file (`*.materialtype`) that does not contain any `properties`, there will be some minor overhead. For example, a debug shader that only renders a model's UV's, or a custom effect that is only used once. In this case, the user will also need to create a material file (`*.material`) that is mostly empty except for referencing the material type file. 