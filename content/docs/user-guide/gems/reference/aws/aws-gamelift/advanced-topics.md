---
linkTitle: Advanced Topics
title: Advanced Topics for AWS GameLift Gem
description: "Learn about advanced topics for using the AWS GameLift Gem in O3DE"
toc: true
---

## Use resource mapping files
A fleet is a set of EC2 virtual computing machines, called *instances*, that represents your hosting resources. A `Fleet Id` is a unique identifier for each fleet, which is generated by the Amazon Gamelift service. 

In most cases, your game will use more than one fleet. To avoid using a fixed fleet id in your script, you can use a resource mapping file, which allows you to look up fleet ids at runtime. Using a resource mapping file helps keep your code or script clean and consistent. For more information, read [Resource Mapping Files](/docs/user-guide/gems/reference/aws/aws-core/resource-mapping-files/) in the AWS Core section. 


### Example
This example shows you how to look up the fleet "MyGameLiftFleetId" from the resource mapping file. With the fleet, you then create a session that allows one maximum player. 

![A script that gets a fleet from a resource mapping file and creates a session with 1 maximum player.](/images/user-guide/gems/reference/aws/aws-gamelift/createsessionandresourcemapping.PNG)

If you have multiple fleets, you can store the fleet ids in an array. Then, you can iterate through each fleet and search for active sessions in the corresponding fleet. 

![A script that iterates through an array of fleets and searches for an active session.](/images/user-guide/gems/reference/aws/aws-gamelift/searchsessionsandresourcemapping.PNG)


## Search and join session workflow

The most basic way to search for sessions is by browsing through the server, which shows all of the available games. Then, the player can filter the games based on the type they want to play, choose a game, and join a session. 

### Example

This example shows you how to search for a maximum of ten sessions in the corresponding fleet. 
![A scipt that searches for a maximum of ten sessions in the corresponding fleet](/images/user-guide/gems/reference/aws/aws-gamelift/searchactivesessions.PNG)

After you get the results, choose the first game session and join. This workflow begins automatically when **SearchSessionAsync** completes with results. 
![A script chooses a game from the results and joins the first session](/images/user-guide/gems/reference/aws/aws-gamelift/searchandjoin.PNG)


## Get credentials from Amazon Cognito identiy pool

To make requests against Amazon Gamelift service, you must grant players a valid permission to interact with your resources. With the [AWS Client Auth Gem](/docs/user-guide/gems/reference/aws/aws-client-auth/), you can get AWS credentials from Amazon Cognito Identiy Pool based on the player's login. 

The AWS GameLift Gem configures the client by using `AWSGameLiftClientManager::ConfigureGameLiftClient()`, and sets up th AWS credentials. To allow players to use Cognito Identiy Pool credential, the players must be successfully logged in using AWS Client Auth Gem. 


## Set up log path for multiple processes

GameLift fleets can be configured to run multiple processes on each instance, which can help customers use their hosting resources more efficiently, and potentially help reduce overall hosting costs. For more information, please read [Managing how game servers are launched for hosting](https://docs.aws.amazon.com/gamelift/latest/developerguide/fleets-multiprocess.html) in the Amazon GameLift documentation. 

To make sure that each server process has its own log path, you can change the `project-path` launch parameter to provide a unique identifier for each process. 

To launch a server process on a GameLift fleet and save log files to `C:\game\process1\user\log\` instead of the default log path, use the following CLI command.

```cmd
C:\game\bin\server.exe --engine-path=C:\game --project-path=C:\game\process1 --project-cache-path=C:\game\assets -bg_ConnectToAssetProcessor= 0
```


Previous Topic: [C++ API for AWS GameLift Gem](https://wiki.agscollab.com/pages/viewpage.action?pageId=126422034)

Next Topic: [AWS GameLift Gem Local Testing](https://wiki.agscollab.com/display/lmbr/AWS+GameLift+Gem+Local+Testing)