<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.17" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Atom API Reference: AZ::RHI::ConstantsLayout Class Reference</title>
<link href="/css/api-ref/tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="/css/api-ref/doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">Atom API Reference
   </div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div class="navpath" id="nav-path">
<ul>
<li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RHI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a></li> </ul>
</div>
</div><!-- top -->
<div class="header">
<div class="summary">
<a href="#pub-methods">Public Member Functions</a> |
<a href="#pub-static-methods">Static Public Member Functions</a> |
<a href="class_a_z_1_1_r_h_i_1_1_constants_layout-members.html">List of all members</a> </div>
<div class="headertitle">
<div class="title">AZ::RHI::ConstantsLayout Class Reference</div> </div>
</div><!--header-->
<div class="contents">
<p><code>#include &lt;ConstantsLayout.h&gt;</code></p>
<p>Inherits intrusive_base.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aebb5b85ec74dbbd5a49d7d9a4e44f56e"><td align="right" class="memItemLeft" valign="top"><a id="aebb5b85ec74dbbd5a49d7d9a4e44f56e"></a>
 </td><td class="memItemRight" valign="bottom"><b>AZ_TYPE_INFO</b> (<a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a>, "{66EDAC32-7730-4F05-AF9D-B3CB0F5D90E0}")</td></tr>
<tr class="separator:aebb5b85ec74dbbd5a49d7d9a4e44f56e"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a7113fae1c08fde99c7527dbd8dc532d2"><td align="right" class="memItemLeft" valign="top"><a id="a7113fae1c08fde99c7527dbd8dc532d2"></a>
 </td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a>, AZ::SystemAllocator, 0)</td></tr>
<tr class="separator:a7113fae1c08fde99c7527dbd8dc532d2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a3c552ff256bbbcf4ecccf666d9b39f12"><td align="right" class="memItemLeft" valign="top"><a id="a3c552ff256bbbcf4ecccf666d9b39f12"></a>
void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a3c552ff256bbbcf4ecccf666d9b39f12">AddShaderInput</a> (const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &amp;descriptor)</td></tr>
<tr class="memdesc:a3c552ff256bbbcf4ecccf666d9b39f12"><td class="mdescLeft"> </td><td class="mdescRight">Adds a shader input to the constants layout. <br/></td></tr>
<tr class="separator:a3c552ff256bbbcf4ecccf666d9b39f12"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae77e3b3e052ac6e31b13f2f011112a14"><td align="right" class="memItemLeft" valign="top"><a id="ae77e3b3e052ac6e31b13f2f011112a14"></a>
void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#ae77e3b3e052ac6e31b13f2f011112a14">Clear</a> ()</td></tr>
<tr class="memdesc:ae77e3b3e052ac6e31b13f2f011112a14"><td class="mdescLeft"> </td><td class="mdescRight">Clears the layout to an empty state. The layout must be finalized prior to usage. <br/></td></tr>
<tr class="separator:ae77e3b3e052ac6e31b13f2f011112a14"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aa7096664b4e7e562d4728f47e2f3ed3b"><td align="right" class="memItemLeft" valign="top"><a id="aa7096664b4e7e562d4728f47e2f3ed3b"></a>
bool </td><td class="memItemRight" valign="bottom"><b>IsFinalized</b> () const</td></tr>
<tr class="separator:aa7096664b4e7e562d4728f47e2f3ed3b"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a792a1a725fa0d5587500890892c9973b"><td align="right" class="memItemLeft" valign="top">bool </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a792a1a725fa0d5587500890892c9973b">Finalize</a> ()</td></tr>
<tr class="separator:a792a1a725fa0d5587500890892c9973b"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a25ad1b3ac7eba77f168bf64917513da8"><td align="right" class="memItemLeft" valign="top"><a id="a25ad1b3ac7eba77f168bf64917513da8"></a>
HashValue64 </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a25ad1b3ac7eba77f168bf64917513da8">GetHash</a> () const</td></tr>
<tr class="memdesc:a25ad1b3ac7eba77f168bf64917513da8"><td class="mdescLeft"> </td><td class="mdescRight">Returns the hash of the layout. <br/></td></tr>
<tr class="separator:a25ad1b3ac7eba77f168bf64917513da8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2a8015aea8e037e71e5c1499642539a6"><td align="right" class="memItemLeft" valign="top"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a2a8015aea8e037e71e5c1499642539a6">FindShaderInputIndex</a> (const Name &amp;name) const</td></tr>
<tr class="separator:a2a8015aea8e037e71e5c1499642539a6"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a14903b90b5a056701a08ab6e590078e5"><td align="right" class="memItemLeft" valign="top"><a id="a14903b90b5a056701a08ab6e590078e5"></a>
<a class="el" href="struct_a_z_1_1_r_h_i_1_1_interval.html">Interval</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a14903b90b5a056701a08ab6e590078e5">GetInterval</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="memdesc:a14903b90b5a056701a08ab6e590078e5"><td class="mdescLeft"> </td><td class="mdescRight">The interval of a constant is its byte [min, max) into the constants data. <br/></td></tr>
<tr class="separator:a14903b90b5a056701a08ab6e590078e5"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1f9732d4c6a2e72a9e739cd504d538e5"><td align="right" class="memItemLeft" valign="top">const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &amp; </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a1f9732d4c6a2e72a9e739cd504d538e5">GetShaderInput</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="separator:a1f9732d4c6a2e72a9e739cd504d538e5"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae8164144b89e2787b58fff8fb0ecf589"><td align="right" class="memItemLeft" valign="top">AZStd::array_view&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#ae8164144b89e2787b58fff8fb0ecf589">GetShaderInputList</a> () const</td></tr>
<tr class="separator:ae8164144b89e2787b58fff8fb0ecf589"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ad7f1ed339fef71daa084ff2c56a78a26"><td align="right" class="memItemLeft" valign="top"><a id="ad7f1ed339fef71daa084ff2c56a78a26"></a>
uint32_t </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#ad7f1ed339fef71daa084ff2c56a78a26">GetDataSize</a> () const</td></tr>
<tr class="memdesc:ad7f1ed339fef71daa084ff2c56a78a26"><td class="mdescLeft"> </td><td class="mdescRight">Returns the total size in bytes used by the constants. <br/></td></tr>
<tr class="separator:ad7f1ed339fef71daa084ff2c56a78a26"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a09d86deadb41f3d491ca7146b1bbbe6f"><td align="right" class="memItemLeft" valign="top">bool </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html#a09d86deadb41f3d491ca7146b1bbbe6f">ValidateAccess</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> inputIndex) const</td></tr>
<tr class="separator:a09d86deadb41f3d491ca7146b1bbbe6f"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3832c0de576a4edfcea4ba7c2e94c074"><td align="right" class="memItemLeft" valign="top"><a id="a3832c0de576a4edfcea4ba7c2e94c074"></a>
static void </td><td class="memItemRight" valign="bottom"><b>Reflect</b> (AZ::ReflectContext *context)</td></tr>
<tr class="separator:a3832c0de576a4edfcea4ba7c2e94c074"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a06c8e4200f50fa6c4145392fdaa65acd"><td align="right" class="memItemLeft" valign="top"><a id="a06c8e4200f50fa6c4145392fdaa65acd"></a>
static RHI::Ptr&lt; <a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a> &gt; </td><td class="memItemRight" valign="bottom"><b>Create</b> ()</td></tr>
<tr class="separator:a06c8e4200f50fa6c4145392fdaa65acd"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_a_z_1_1_r_h_i_1_1_constants_layout.html">ConstantsLayout</a> defines a the layout of a set of constant shader inputs. Each constant input spans a range of bytes in an byte array. The array could represent a constant buffer or an inline structure depending on where the constants are being use.</p>
<p>To use the class, assign shader inputs using AddShaderInput, and call Finalize to complete construction of the layout. This class is intended to be built using an offline shader compiler, and serialized to / from disk. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a792a1a725fa0d5587500890892c9973b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792a1a725fa0d5587500890892c9973b">◆ </a></span>Finalize()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool AZ::RHI::ConstantsLayout::Finalize </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Finalizes the layout for access. Must be called prior to usage or serialization. It is not permitted to mutate the layout once Finalize is called. Clear must be called first. If the call fails, the layout is cleared back to an empty state and false is returned. Otherwise, true is returned and the layout is considered finalized. </p>
</div>
</div>
<a id="a2a8015aea8e037e71e5c1499642539a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a8015aea8e037e71e5c1499642539a6">◆ </a></span>FindShaderInputIndex()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> AZ::RHI::ConstantsLayout::FindShaderInputIndex </td>
<td>(</td>
<td class="paramtype">const Name &amp; </td>
<td class="paramname"><em>name</em></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Resolves a shader input name to an index. To maximize performance, the name to index resolve should be done as an initialization step and the indices cached. </p>
</div>
</div>
<a id="a1f9732d4c6a2e72a9e739cd504d538e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f9732d4c6a2e72a9e739cd504d538e5">◆ </a></span>GetShaderInput()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">const <a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a>&amp; AZ::RHI::ConstantsLayout::GetShaderInput </td>
<td>(</td>
<td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> </td>
<td class="paramname"><em>inputIndex</em></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Returns the shader input associated with the requested index. It is not permitted to call this method with a null index. An assert will fire otherwise. </p>
</div>
</div>
<a id="ae8164144b89e2787b58fff8fb0ecf589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8164144b89e2787b58fff8fb0ecf589">◆ </a></span>GetShaderInputList()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">AZStd::array_view&lt;<a class="el" href="class_a_z_1_1_r_h_i_1_1_shader_input_constant_descriptor.html">ShaderInputConstantDescriptor</a>&gt; AZ::RHI::ConstantsLayout::GetShaderInputList </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Returns the full lists of shader input added to the layout. Inputs maintain their original order with respect to AddShaderInput. </p>
</div>
</div>
<a id="a09d86deadb41f3d491ca7146b1bbbe6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d86deadb41f3d491ca7146b1bbbe6f">◆ </a></span>ValidateAccess()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool AZ::RHI::ConstantsLayout::ValidateAccess </td>
<td>(</td>
<td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">ShaderInputConstantIndex</a> </td>
<td class="paramname"><em>inputIndex</em></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Validates that the inputIndex is valid. Emits an assert and returns false on failure; returns true on success. If validation is disabled, true is always returned. </p>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 4 2021 15:16:52 for Atom API Reference by  <a href="http://www.doxygen.org/index.html">
<img alt="doxygen" class="footer" src="/images/api-ref/doxygen.png"/>
</a> 1.8.17
</small></address>
</body>
</html>
