<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.17" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>AzCore API Reference: AZ::Debug::Profiler Class Reference</title>
<link href="/css/api-ref/tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="/css/api-ref/doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">AzCore API Reference
   </div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div class="navpath" id="nav-path">
<ul>
<li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>Debug</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html">Profiler</a></li> </ul>
</div>
</div><!-- top -->
<div class="header">
<div class="summary">
<a href="#nested-classes">Classes</a> |
<a href="#pub-types">Public Types</a> |
<a href="#pub-methods">Public Member Functions</a> |
<a href="#pub-static-methods">Static Public Member Functions</a> |
<a href="#pub-static-attribs">Static Public Attributes</a> |
<a href="#friends">Friends</a> |
<a href="class_a_z_1_1_debug_1_1_profiler-members.html">List of all members</a> </div>
<div class="headertitle">
<div class="title">AZ::Debug::Profiler Class Reference</div> </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td align="right" class="memItemLeft" valign="top">struct  </td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_z_1_1_debug_1_1_profiler_1_1_descriptor.html">Descriptor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac048a3c9ac451ca98ae95ff51aac8705"><td align="right" class="memItemLeft" valign="top">typedef <a class="el" href="class_a_z_std_1_1function.html">AZStd::function</a>&lt; bool(const <a class="el" href="class_a_z_1_1_debug_1_1_profiler_register.html">ProfilerRegister</a> &amp;, const <a class="el" href="struct_a_z_std_1_1thread__id.html">AZStd::thread_id</a> &amp;)&gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ac048a3c9ac451ca98ae95ff51aac8705">ReadProfileRegisterCB</a></td></tr>
<tr class="separator:ac048a3c9ac451ca98ae95ff51aac8705"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5051759e2a109683775da6ebbf2a48ea"><td align="right" class="memItemLeft" valign="top"><a id="a5051759e2a109683775da6ebbf2a48ea"></a>
void </td><td class="memItemRight" valign="bottom"><b>ActivateSystem</b> (const char *systemName)</td></tr>
<tr class="separator:a5051759e2a109683775da6ebbf2a48ea"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a39eb4977faa3f572e001a570705ded52"><td align="right" class="memItemLeft" valign="top"><a id="a39eb4977faa3f572e001a570705ded52"></a>
void </td><td class="memItemRight" valign="bottom"><b>DeactivateSystem</b> (const char *systemName)</td></tr>
<tr class="separator:a39eb4977faa3f572e001a570705ded52"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a01338b2c2f44b0d1f19195de43ddfcec"><td align="right" class="memItemLeft" valign="top"><a id="a01338b2c2f44b0d1f19195de43ddfcec"></a>
bool </td><td class="memItemRight" valign="bottom"><b>IsSystemActive</b> (const char *systemName) const</td></tr>
<tr class="separator:a01338b2c2f44b0d1f19195de43ddfcec"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae10a1a4d39d78cf9427a5a87bb07dafd"><td align="right" class="memItemLeft" valign="top"><a id="ae10a1a4d39d78cf9427a5a87bb07dafd"></a>
bool </td><td class="memItemRight" valign="bottom"><b>IsSystemActive</b> (AZ::u32 systemId) const</td></tr>
<tr class="separator:ae10a1a4d39d78cf9427a5a87bb07dafd"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a8d8f03c0fb069101b579e435a9ed62e1"><td align="right" class="memItemLeft" valign="top"><a id="a8d8f03c0fb069101b579e435a9ed62e1"></a>
int </td><td class="memItemRight" valign="bottom"><b>GetNumberOfSystems</b> () const</td></tr>
<tr class="separator:a8d8f03c0fb069101b579e435a9ed62e1"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ad1145c6adf3af9bec71bde26cb3dd4c8"><td align="right" class="memItemLeft" valign="top"><a id="ad1145c6adf3af9bec71bde26cb3dd4c8"></a>
const char * </td><td class="memItemRight" valign="bottom"><b>GetSystemName</b> (int index) const</td></tr>
<tr class="separator:ad1145c6adf3af9bec71bde26cb3dd4c8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae312f8a604d00ae240c9b411ca9fec4f"><td align="right" class="memItemLeft" valign="top"><a id="ae312f8a604d00ae240c9b411ca9fec4f"></a>
const char * </td><td class="memItemRight" valign="bottom"><b>GetSystemName</b> (AZ::u32 systemId) const</td></tr>
<tr class="separator:ae312f8a604d00ae240c9b411ca9fec4f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a890e01718b9d4cf7a443793475040124"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#a890e01718b9d4cf7a443793475040124">ReadRegisterValues</a> (const <a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ac048a3c9ac451ca98ae95ff51aac8705">ReadProfileRegisterCB</a> &amp;callback, AZ::u32 systemFilter=0, const <a class="el" href="struct_a_z_std_1_1thread__id.html">AZStd::thread_id</a> *threadFilter=NULL) const</td></tr>
<tr class="separator:a890e01718b9d4cf7a443793475040124"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae265bd10d46e64dab1bf2d43e7d49358"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ae265bd10d46e64dab1bf2d43e7d49358">ResetRegisters</a> ()</td></tr>
<tr class="separator:ae265bd10d46e64dab1bf2d43e7d49358"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a60e437a77b85892ce294ad914ead069b"><td align="right" class="memItemLeft" valign="top"><a id="a60e437a77b85892ce294ad914ead069b"></a>
void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#a60e437a77b85892ce294ad914ead069b">RemoveThreadData</a> (<a class="el" href="struct_a_z_std_1_1thread__id.html">AZStd::thread_id</a> id)</td></tr>
<tr class="memdesc:a60e437a77b85892ce294ad914ead069b"><td class="mdescLeft"> </td><td class="mdescRight">You can remove thread data ONLY IF YOU ARE SURE THIS THREAD IS NO LONGER ACTIVE! This will work only is specific cases. <br/></td></tr>
<tr class="separator:a60e437a77b85892ce294ad914ead069b"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a24c1c5e53fd07369b32c05b9cbbfa4e5"><td align="right" class="memItemLeft" valign="top"><a id="a24c1c5e53fd07369b32c05b9cbbfa4e5"></a>
static bool </td><td class="memItemRight" valign="bottom"><b>Create</b> (const <a class="el" href="struct_a_z_1_1_debug_1_1_profiler_1_1_descriptor.html">Descriptor</a> &amp;desc=<a class="el" href="struct_a_z_1_1_debug_1_1_profiler_1_1_descriptor.html">Descriptor</a>())</td></tr>
<tr class="separator:a24c1c5e53fd07369b32c05b9cbbfa4e5"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aee76680064cb326181978907e9037cae"><td align="right" class="memItemLeft" valign="top"><a id="aee76680064cb326181978907e9037cae"></a>
static void </td><td class="memItemRight" valign="bottom"><b>Destroy</b> ()</td></tr>
<tr class="separator:aee76680064cb326181978907e9037cae"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a5627740a816abf858f2850c42c3c810a"><td align="right" class="memItemLeft" valign="top"><a id="a5627740a816abf858f2850c42c3c810a"></a>
static bool </td><td class="memItemRight" valign="bottom"><b>IsReady</b> ()</td></tr>
<tr class="separator:a5627740a816abf858f2850c42c3c810a"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:afeab4cb8ee809ad664573ab933b9b03d"><td align="right" class="memItemLeft" valign="top"><a id="afeab4cb8ee809ad664573ab933b9b03d"></a>
static <a class="el" href="class_a_z_1_1_debug_1_1_profiler.html">Profiler</a> &amp; </td><td class="memItemRight" valign="bottom"><b>Instance</b> ()</td></tr>
<tr class="separator:afeab4cb8ee809ad664573ab933b9b03d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a20ae19408d9a3836960938304988f265"><td align="right" class="memItemLeft" valign="top"><a id="a20ae19408d9a3836960938304988f265"></a>
static u64 </td><td class="memItemRight" valign="bottom"><b>GetId</b> ()</td></tr>
<tr class="separator:a20ae19408d9a3836960938304988f265"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac8f11ac7554f0714f6d298fe0698cda2"><td align="right" class="memItemLeft" valign="top"><a id="ac8f11ac7554f0714f6d298fe0698cda2"></a>
static void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ac8f11ac7554f0714f6d298fe0698cda2">AddReference</a> ()</td></tr>
<tr class="memdesc:ac8f11ac7554f0714f6d298fe0698cda2"><td class="mdescLeft"> </td><td class="mdescRight">Increment the use count. <br/></td></tr>
<tr class="separator:ac8f11ac7554f0714f6d298fe0698cda2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aeec5ccc6138dd1d02c20a8b9b3e9eeac"><td align="right" class="memItemLeft" valign="top"><a id="aeec5ccc6138dd1d02c20a8b9b3e9eeac"></a>
static void </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#aeec5ccc6138dd1d02c20a8b9b3e9eeac">ReleaseReference</a> ()</td></tr>
<tr class="memdesc:aeec5ccc6138dd1d02c20a8b9b3e9eeac"><td class="mdescLeft"> </td><td class="mdescRight">Release the use count if 0 a Destroy will be called automatically. <br/></td></tr>
<tr class="separator:aeec5ccc6138dd1d02c20a8b9b3e9eeac"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a72cf78c6cfeaa57fedd755c8ce1342fa"><td align="right" class="memItemLeft" valign="top"><a id="a72cf78c6cfeaa57fedd755c8ce1342fa"></a>
static const int </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#a72cf78c6cfeaa57fedd755c8ce1342fa">m_maxNumberOfThreads</a> = 32</td></tr>
<tr class="memdesc:a72cf78c6cfeaa57fedd755c8ce1342fa"><td class="mdescLeft"> </td><td class="mdescRight">Max number of threads supported by the profiler. <br/></td></tr>
<tr class="separator:a72cf78c6cfeaa57fedd755c8ce1342fa"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aeda6f51e5a035023ff0dfcf2587141bc"><td align="right" class="memItemLeft" valign="top"><a id="aeda6f51e5a035023ff0dfcf2587141bc"></a>
static const int </td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#aeda6f51e5a035023ff0dfcf2587141bc">m_maxNumberOfSystems</a> = 64</td></tr>
<tr class="memdesc:aeda6f51e5a035023ff0dfcf2587141bc"><td class="mdescLeft"> </td><td class="mdescRight">Max number of systems supported by the profiler. (We can switch this container if needed) <br/></td></tr>
<tr class="separator:aeda6f51e5a035023ff0dfcf2587141bc"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab172b21eda2db8efb55cc624799d7192"><td align="right" class="memItemLeft" valign="top"><a id="ab172b21eda2db8efb55cc624799d7192"></a>
class </td><td class="memItemRight" valign="bottom"><b>ProfilerRegister</b></td></tr>
<tr class="separator:ab172b21eda2db8efb55cc624799d7192"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a18c5b4d4889bb1e0b7ad6b08bb65e20d"><td align="right" class="memItemLeft" valign="top"><a id="a18c5b4d4889bb1e0b7ad6b08bb65e20d"></a>
struct </td><td class="memItemRight" valign="bottom"><b>ProfilerData</b></td></tr>
<tr class="separator:a18c5b4d4889bb1e0b7ad6b08bb65e20d"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ac048a3c9ac451ca98ae95ff51aac8705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac048a3c9ac451ca98ae95ff51aac8705">◆ </a></span>ReadProfileRegisterCB</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef <a class="el" href="class_a_z_std_1_1function.html">AZStd::function</a>&lt;bool (const <a class="el" href="class_a_z_1_1_debug_1_1_profiler_register.html">ProfilerRegister</a>&amp;, const <a class="el" href="struct_a_z_std_1_1thread__id.html">AZStd::thread_id</a>&amp;)&gt; <a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ac048a3c9ac451ca98ae95ff51aac8705">AZ::Debug::Profiler::ReadProfileRegisterCB</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>Callback to read a single register. Make sure you read the data as fast as possible. Don't compute inside the callback it will lock and hold all the registers that we process. The best is just to read the value and push it into a history buffer. </p>
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a890e01718b9d4cf7a443793475040124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890e01718b9d4cf7a443793475040124">◆ </a></span>ReadRegisterValues()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void AZ::Debug::Profiler::ReadRegisterValues </td>
<td>(</td>
<td class="paramtype">const <a class="el" href="class_a_z_1_1_debug_1_1_profiler.html#ac048a3c9ac451ca98ae95ff51aac8705">ReadProfileRegisterCB</a> &amp; </td>
<td class="paramname"><em>callback</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">AZ::u32 </td>
<td class="paramname"><em>systemFilter</em> = <code>0</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const <a class="el" href="struct_a_z_std_1_1thread__id.html">AZStd::thread_id</a> * </td>
<td class="paramname"><em>threadFilter</em> = <code>NULL</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Read register values, make sure the code here is fast and efficient as we are holding a lock. provide a callback that will be called for each register. You can choose to filter your values by thread or a system. Use this filter only to narrow you samples. Don't use it for multiple calls to sort your counters, use the history data. It addition keep in mind that you can run this function is parallel, as we only read the values. </p>
</div>
</div>
<a id="ae265bd10d46e64dab1bf2d43e7d49358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae265bd10d46e64dab1bf2d43e7d49358">◆ </a></span>ResetRegisters()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void AZ::Debug::Profiler::ResetRegisters </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>This is slow operation that will cause contention try to avoid using it. A better way will be each frame instead of reset to read and store register values (this is good for history too) and make the difference that way. </p>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 4 2021 15:15:54 for AzCore API Reference by  <a href="http://www.doxygen.org/index.html">
<img alt="doxygen" class="footer" src="/images/api-ref/doxygen.png"/>
</a> 1.8.17
</small></address>
</body>
</html>
